<!doctype html>
<html>
<head>
  <title key="title">radicle</title>
  <link rel="shortcut icon" href="favicon.ico" />
  <link rel="stylesheet" type="text/css" href="styles/style.css" />
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@radicle_xyz" />
  <meta name="twitter:creator" content="@radicle_xyz" />
  <meta property="og:title" content="Radicle" />
  <meta property="og:description" content="Secure peer-to-peer code collaboration without intermediaries." />
</head>
<body id="index">
  <header>
    <a href="/" id="logo">
      <svg width="114" height="24" viewBox="0 0 114 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M44.0616 10.4609C44.0616 7.02538 44.0616 3.65047 44.0616 0.248291C45.5462 0.248291 46.9761 0.248291 48.4424 0.248291C48.4424 8.03424 48.4424 15.7999 48.4424 23.599C46.9974 23.599 45.5666 23.599 44.0616 23.599C44.0616 23.1799 44.0616 22.7558 44.0616 22.2801C43.9387 22.3397 43.8889 22.3508 43.8565 22.3811C42.2134 23.9009 40.2555 24.2827 38.1463 23.7727C35.3649 23.1011 33.6913 21.2248 33.0039 18.5295C32.3062 15.7949 32.7753 13.2461 34.6571 11.0496C36.6363 8.73911 40.1275 8.0847 42.7364 9.53382C43.172 9.7752 43.56 10.1054 44.0616 10.4609ZM44.2068 16.5694C44.2099 15.8232 44.1164 15.2566 43.8889 14.7275C43.3548 13.4844 42.4165 12.725 41.0537 12.5785C39.7681 12.4402 38.6734 12.8653 37.8975 13.9146C36.9836 15.1506 36.8769 16.523 37.3979 17.9378C38.1169 19.8898 40.3905 20.7654 42.2479 19.809C43.629 19.0991 44.1368 17.8691 44.2068 16.5694Z" fill="#28333D"/>
      <path d="M25.3593 10.4452C25.3593 10.0008 25.3593 9.59187 25.3593 9.14648C26.848 9.14648 28.2768 9.14648 29.7066 9.14648C29.8193 9.49792 29.8721 22.4088 29.7584 23.6085C28.3235 23.6651 26.8805 23.6166 25.3827 23.6358C25.3827 23.1723 25.3827 22.7583 25.3827 22.2452C25.2019 22.3856 25.0993 22.4563 25.0069 22.5381C24.0209 23.4106 22.854 23.8509 21.5512 23.9468C17.9929 24.2064 15.3932 21.8989 14.5138 19.1834C13.5572 16.2276 13.9319 13.4565 15.9934 11.0349C17.9532 8.7345 21.4344 8.09123 24.029 9.52014C24.4798 9.76754 24.8779 10.1069 25.3593 10.4452ZM18.3534 16.3892C18.3534 16.8044 18.5362 17.4515 18.7271 17.9453C19.2328 19.247 20.2067 20.0226 21.6121 20.1619C22.984 20.2983 24.097 19.7923 24.8769 18.6391C25.8335 17.2243 25.7218 15.0925 24.6332 13.7746C23.3049 12.1649 20.7276 12.1397 19.3638 13.7211C18.7057 14.4846 18.3534 15.3798 18.3534 16.3892Z" fill="#28333D"/>
      <path d="M93.3366 20.1133C95.1218 20.1133 96.8086 20.1133 98.5287 20.1133C98.5287 21.2877 98.5287 22.4238 98.5287 23.5962C93.6065 23.5962 88.6914 23.5962 83.7768 23.5962C83.6608 23.2387 83.6386 20.6999 83.7581 20.1052C85.4459 20.1052 87.1458 20.1052 88.8775 20.1052C88.8775 14.6399 88.8775 9.23114 88.8775 3.76482C87.1645 3.76482 85.4646 3.76482 83.7818 3.76482C83.6668 3.34876 83.6376 0.989753 83.7238 0.306088C84.0804 0.200054 92.7303 0.177838 93.3366 0.292961C93.3366 6.86706 93.3366 13.4543 93.3366 20.1133Z" fill="#28333D"/>
      <path d="M103.258 17.4937C103.351 18.554 103.816 19.3367 104.62 19.8789C105.887 20.7343 107.258 20.7363 108.64 20.1768C109.174 19.9607 109.537 19.5315 109.794 19.0135C111.089 19.0135 112.369 19.0135 113.737 19.0135C113.586 19.4386 113.49 19.8314 113.315 20.1859C112.529 21.7906 111.264 22.8994 109.588 23.4962C107.602 24.2041 105.587 24.1597 103.627 23.4033C101.444 22.5611 100.074 20.9494 99.4568 18.7105C98.9927 17.0271 99.0149 15.3518 99.6132 13.6987C100.662 10.7984 103.418 8.83522 106.516 8.77668C108.38 8.74132 110.062 9.2311 111.477 10.4803C112.713 11.5719 113.41 12.9696 113.765 14.552C113.976 15.4921 114.052 16.4434 113.963 17.4745C113.254 17.5119 112.551 17.4876 111.848 17.4927C111.138 17.4967 110.427 17.4937 109.716 17.4937C109.006 17.4937 108.294 17.4937 107.584 17.4937C106.873 17.4937 106.162 17.4937 105.451 17.4937C104.744 17.4937 104.035 17.4937 103.258 17.4937ZM109.706 14.7459C109.706 14.6611 109.72 14.5934 109.704 14.5338C109.497 13.7492 109.072 13.113 108.334 12.7443C107.156 12.1566 105.974 12.2031 104.85 12.8787C104.152 13.2978 103.682 13.9228 103.423 14.7469C105.54 14.7459 107.612 14.7459 109.706 14.7459Z" fill="#28333D"/>
      <path d="M82.781 14.5894C81.2934 14.5894 79.8422 14.5894 78.3809 14.5894C78.3415 14.5298 78.2936 14.4783 78.2714 14.4187C77.705 12.909 75.8931 12.1062 74.114 12.8868C73.1238 13.321 72.5074 14.1017 72.2309 15.1337C71.8536 16.5496 72.0211 17.8795 72.9936 19.0277C74.2073 20.4597 76.4903 20.5415 77.7151 19.2004C77.9819 18.9075 78.1625 18.5369 78.4137 18.1582C79.8251 18.1582 81.2894 18.1582 82.8097 18.1582C82.7906 18.3208 82.7881 18.4663 82.7548 18.6056C82.2534 20.6677 80.9847 22.134 79.1305 23.1065C75.9935 24.7525 71.9792 24.0144 69.6135 21.3867C66.3892 17.8058 67.3305 12.1608 71.5459 9.80174C74.7354 8.01633 78.6886 8.57278 81.1502 11.156C81.9608 12.0063 82.4869 13.008 82.7588 14.1451C82.778 14.2269 82.7946 14.3097 82.8027 14.3935C82.8077 14.44 82.7936 14.4895 82.781 14.5894Z" fill="#28333D"/>
      <path d="M57.1524 12.626C55.4413 12.626 53.7545 12.626 52.0314 12.626C52.0314 11.4525 52.0314 10.3175 52.0314 9.14502C55.2138 9.14502 58.3872 9.14502 61.6276 9.14502C61.6347 9.33082 61.6503 9.5257 61.6503 9.71962C61.6513 12.9673 61.6513 16.2149 61.6513 19.4626C61.6513 19.6585 61.6513 19.8544 61.6513 20.0877C63.4067 20.0877 65.0935 20.0877 66.7672 20.0877C66.8963 20.4654 66.9266 22.9315 66.8181 23.599C61.9091 23.599 56.994 23.599 52.0824 23.599C51.9775 23.2263 51.9452 20.9309 52.0385 20.122C52.5939 20.0796 53.1639 20.1079 53.7313 20.1029C54.2897 20.0978 54.8481 20.1019 55.407 20.1019C55.9806 20.1019 56.5556 20.1019 57.1201 20.1019C57.2452 19.7343 57.2764 13.3076 57.1524 12.626Z" fill="#28333D"/>
      <path d="M11.8113 9.14331C11.8113 10.3137 11.8113 11.4367 11.8113 12.6314C10.9907 12.6455 10.1854 12.6364 9.38114 12.6374C8.55252 12.6394 7.72385 12.6374 6.89523 12.6374C6.08689 12.6374 5.27855 12.6374 4.41335 12.6374C4.41335 16.3052 4.41335 19.9285 4.41335 23.5357C3.997 23.6528 0.591019 23.674 0 23.5741C0 18.7793 0 13.9785 0 9.14331C3.93201 9.14331 7.84471 9.14331 11.8113 9.14331Z" fill="#28333D"/>
      <path d="M59.0062 5.7027C57.3704 5.70576 56.0937 4.45151 56.0967 2.84585C56.0997 1.26948 57.3683 0.0132306 58.9704 0.000102609C60.6047 -0.0130254 61.894 1.23515 61.9011 2.83575C61.9092 4.44949 60.6461 5.69969 59.0062 5.7027Z" fill="#28333D"/>
      </svg>
    </a>
    <nav>
      <a href="https://radicle.community" target=”_blank”><span>Community</span> ↗</a>
      <a href="https://github.com/radicle-dev" target=”_blank”><span>Code</span> ↗</a>
      <a href="https://github.com/radicle-dev" target=”_blank”><span>Try it</span> ↓</a>
    </nav>
  </header>
  <div class="docs-page">
    <aside class="side-bar">
      <nav>
        <a href="/"><span>Introduction</span></a>
        <a href="/"><span>Radicle Link</span></a>
        <a href="/"><span>Radicle Registry</span></a>
        <a href="/"><span>Why Radicle</span></a>
        <a href="/"><span>Try it</span></a>
        <a href="/"><span>Developers</span></a>
      </nav>
    </aside>
    <article>
        <h1>
          How it Works &mdash; Radicle Link
        </h1>

        <p class="subtitle">
          This article dives into the architecture and design of Radicle Link&mdash;the peer-to-peer replication
          protocol that powers Radicle. We discuss our decision to build on Git, how we ensure data availability,
          and how we replicate data across the network.
        </p>
        <p>
          Behind every repository is a version control system&mdash;the most popular of these being Git, created in
          2005 by Linus Torvalds for the development of the Linux kernel. Git marked the rise of distributed version
          control systems as developers realized the centralized model of SVN and CVS didn&#x27;t scale well with the
          number of contributors. In fact, Git was only created when Linus’ free <a
          href="http://www.bitkeeper.org/">Bitkeeper</a> license was revoked after a Linux kernel contributor tried to
          <a href="https://www.linuxjournal.com/content/git-origin-story">reverse engineer its networking protocols</a>.
          Git brought distributed version control to the forefront and changed the way software is developed today.
        </p>
        <p>
          Code collaboration platforms, or <q>forges</q>, started building on top of Git: they introduced
          search and discovery, canonicity, and social collaboration (issues &amp; code review) to Git-based workflows,
          albeit not always following the same distributed model that Git was designed for.
        </p>
        <p>
          Radicle was designed to provide this same functionality while retaining Git’s peer-to-peer nature, building on
          what made distributed version control so powerful in the first place.
        </p>

        <h2>
          Git gossips well
        </h2>
        <p>
          The earliest version of Radicle adopted a generalized approach to replication&mdash;it wasn’t tailored to
          replicating collaboration artifacts or source code and as we discovered, was ill-suited to the demands of
          real-world code collaboration.
        </p>
        <p>
          On the other hand, the current iteration is specifically designed for this use case. The most outstanding
          difference is the decision to <strong>use Git as our storage and replication layer</strong>, instead of a
          decentralized storage network such as IPFS. In our experimentation with decentralized storage, we realized
          that replicating Git repos on the storage layer didn&#x27;t permit the use of <a
          href="https://git-scm.com/book/en/v2/Git-Internals-Packfiles">packfiles</a>, one of the key protocols that
          makes Git useable at scale.  Essentially, this approach would make source code a second-class citizen&mdash;
          making it impractical to store repositories with large histories. The reason is simple: <a
          href="https://git-scm.com/book/en/v2/Git-Internals-Transfer-Protocols">the packfile protocol is
          interactive</a>, which means before data is transferred between two parties, they determine exactly what needs
          to be sent over the wire, and the server puts together a packfile on the fly, before sending it downstream.
          This incredibly efficient approach isn&#x27;t compatible with simple file storage protocols such as IPFS,
          which operate on the premise that content is usually <em>static</em>, unlike active code repositories that are
          constantly updated.
        </p>

        <blockquote>
          <p>
            The dumb protocol is simple but a bit inefficient, and it can&#x27;t handle writing of data from the client
            to the server.  The smart protocol is a more common method of transferring data, but it requires a process
            on the remote end that is intelligent about Git&mdash;it can read local data, figure out what the client has and
            needs, and generate a custom packfile for it.
          </p>
          <p><cite>
            &mdash;&nbsp;<a href="https://git-scm.com/book/en/v2/Git-Internals-Transfer-Protocols">Git Internals</a>
          </cite></p>
        </blockquote>

        <p>
          In order to keep Git&#x27;s efficiency when it comes to data replication, while offering global decentralized
          repository storage, we chose to design Radicle as a peer-to-peer networking layer on top of Git&#x27;s smart
          transfer protocol. Radicle would take care of discovering peers, offloading the actual data transfer to Git.
        </p>

        <h2>
          radicle-link
        </h2>
        <p>
          <a href="https://github.com/radicle-dev/radicle-link">Radicle Link</a> is a peer-to-peer protocol with a
          generic distributed version control backend. It aims to be general enough to be used on top of systems such as
          <a href="https://pijul.org/">pijul</a> or <a href="https://www.mercurial-scm.org/">mercurial</a>, though
          it&#x27;s initial implementation is focused on supporting Git.
        </p>
        <p>
          Radicle Link extends Git with <strong>peer-to-peer network discovery</strong>. Taking inspiration from <a
          href="https://scuttlebutt.nz/">Secure Scuttlebutt</a>, a peer-to-peer protocol for social networking, data is
          disseminated via a process called <strong>gossip</strong>. That is, participants in the network share and
          spread data they are "interested" in by keeping redundant copies locally and sharing deltas with peers. With
          Radicle, we replicate data across connected repositories according to a “social graph” of contributors and
          maintainers, enabling source code and changesets to be disseminated according to use and value: the more peers
          who are interested in a certain project, the more available this project is made to the network.
        </p>

        <h3>
          How it works
        </h3>
        <p>
          Repositories are the base <em>unit of replication</em> in Radicle. To publish a repository to the network, it
          must first be initialized as a <em>project</em>. Projects combine source code, issues and proposed changes
          under a single umbrella, and carry a unique, shareable peer-to-peer identifier. The entirety of the project
          data and metadata, including social artefacts such as comments, are stored within the repository. To create a
          project, the owner of a repository defines a <em>project identity</em>. In the background, a
          <em>project.json</em> file is created in a predetermined disjoint branch of the repository, by convention
          <code>rad/id</code>. This file contains important metadata such as the project name, list of maintainers, as
          well as any related links.
        </p>
        <p>
          The owner of the repository thus becomes the founder of the project and signs the initial version of the
          project metadata file (<em>project.json</em>) with their private key. The digest of the initial version,
          becomes the <em>Project ID</em>.
        </p>
        <p>
          In addition to the repository, a Radicle <em>project</em> includes the <em>identities</em> of all its
          maintainers: peers with designated rights over the project&#x27;s identity. Initially, the only
          maintainer is the <em>founder</em>. By adding other maintainers to the project metadata, additional layers of
          trust can be introduced around the project. Any update to the project metadata <strong>must</strong> be signed
          by a quorum of maintainers, providing a cryptographically secure way to manage project state &amp; metadata,
          for example in the case of transferring ownership. The history of the metadata file is backed by the
          underlying DVCS, and is verified upon replication,  ensuring it was&#x27;t tampered with.
        </p>

        <h3>Replication and validation</h3>
        <p>
          To ensure data integrity and authenticity in the peer-to-peer network, we adopt an algorithm similar to the
          root file update process from <a href="https://theupdateframework.io/">The Update Framework</a> (TUF). In this
          process, peers can fetch and verify the project metadata before replicating the latest changesets and
          revisions. This is important, since it effectively allows data to be served by <em>any peer</em>, in a secure
          manner. The physical location from which project data is fetched becomes irrelevant to the user.
        </p>

        <h3>Tracking and discovery</h3>
        <p>
          When a project is published to the network the specific repository or <em>source tree</em> becomes
          identifiable by the maintainer of this tree. This allows repositories to be addressed by a shareable URL,
          which is then resolved to a physical location on the network, for the purpose of replication. This URL has the
          following form:
        </p>
        <p><pre class="code">rad://&lt;project-id&gt;/&lt;maintainer-id&gt;</pre></p>
        <p>
          Peers decide what data to replicate through the <strong>tracking</strong> of projects. Tracking a project
          signals interest, and means to impliestracking its maintainers, therefore replicating the data within their
          social graphs. In the context of a project, maintainers of a repository may choose to <strong>track</strong>
          the repositories of other owners (this is called a <strong>remote</strong> in Git terminology: a named
              reference to a remote repository). If the remote repository is found to track other remotes, the tracking
          repository shall also transitively track those, up to a configurable <em>N</em> degrees out.
        </p>

        <h3>Availability</h3>
        <p>
          To improve data availability, participants in the network can choose to act as <strong>seeds</strong>. This is
          similar in concept to a <em>pub</em> in <a href="https://scuttlebutt.nz/">Secure Scuttlebutt</a>: seeds
          are <q>always-on</q> nodes that automatically track discovered projects, thereby increasing the availability of
          these projects on the network. Since seeds may track a large number of repositories for a given project,
          replicating a project from a seed will greatly increase the connectedness of the tracking graph. Tracking a
          seed will also increase the number of paths leading back to the original upstream, ensuring that contributions
          can flow back up to the project maintainers even if they come from participants not within the set of tracked
          repositories of the maintainer.
        </p>

        <h2>Offline and local-first</h2>
        <p>
          With the introduction of hosted platforms came new ‘enhanced’ workflows like pull requests, issue tracking,
          and code reviews. These workflows were unique because they were non-Git native but still tied to source code
          through rich user interfaces and features. As a result, they have further defined the common developer
          experience by making collaboration more than just code&mdash;the social interactions captured in issues,
          code reviews and discussions are just as important as the source code itself. However, they&#x27;ve also
          locked-in developers to the platforms that host these workflows and their artifacts. If you lost access to
          your GitHub account you&#x27;d have access to your source code, but wouldn&#x27;t have access to any of your
          issues, reviews, or pull requests. Even worse, access to valuable conversations could be completely
          lost.
        </p>
        <p>
          With Radicle, central servers are unnecessary for ensuring the discoverability and availability of changesets
          and social artifacts.  In addition, by returning to a fully distributed model, it enables a more complete
          offline experience. Not only is the source code available offline, but so is everything else. Radicle is built
          to provide a convenient collaboration experience <em>without intermediaries or vendor lock-in</em>.
        </p>

        <p>
          Having Git as the nexus of replication builds on its strengths and decentralized nature. Having issues, pull
          requests, comments, and reviews <em>locally</em> gives developers the tools to manage and design their
          workflows as they see fit.  By existing as an open source protocol instead of a platform, Radicle gives
          developers the freedom to collaborate without reliance on third parties.
        </p>

        <p>
          You can follow the development of Radicle Link in the <a
          href="https://radicle.community/c/development-discussion/9">#development</a> category of our <a
          href="https://radicle.community">radicle.community</a> forum or sign up to our mailing list.
        </p>
      </article>
  </div>
  <footer>
    <div class="container">
      <img class="footer-gif" src="../img/sweaty-balmer-crop.gif" alt="">
      <div class="text">
        <h1 class="druk">Stay up <span>to date</span></h1>
        <p>If you'd like to stay updated about product releases, project updates, and other announcements, hand us your e-mail and we'll keep you in the loop.</p>
        <br>
        <p>For periodic announcements, follow us on twitter.</p>
        <form>
            <input type="text" placeholder="Enter your email"><button>Sign up</button>
        </form>
        <p>Radicle is a project supported by <a href="https://monadic.xyz/">Monadic</a>.</p>
      </div>
    </div>
  </footer>
</body>
</html>
